// ~~ Generated by projen. To modify, edit .projenrc.js and run "npx projen".

$version: "2"

metadata validators = [
    {
        id: "SupportedLanguage"
        name: "EmitEachSelector"
        configuration: {
            bindToTrait: com.amazon#handler
            selector: """
                :not([@trait|com.amazon#handler: @{language} = typescript, java, python])
            """
            messageTemplate: """
                @{trait|com.amazon#handler|language} is not supported by type-safe-api.
                Supported languages are "typescript", "java" and "python".
            """
        }
    }
    {
        id: "TraitNotPermitted"
        name: "EmitEachSelector"
        configuration: {
            bindToTrait: com.amazon#handler
            selector: """
                *
            """
            messageTemplate: """
                @@handler trait cannot be used unless handler project languages have been configured.
                You can add handler projects by configuring TypeSafeApiProject in your .projenrc
            """
        }
    }
]

namespace com.amazon

/// Add this trait to an operation to generate a lambda handler stub for the operation.
/// You have not configured any handler projects, so you cannot use this trait.
@trait(selector: "operation")
structure handler {
    /// The language you will implement the lambda in.
    /// Valid values: typescript, java, python
    @required
    language: String
}

